<odoo>
    <data>
        <record id="view_college_student_form" model="ir.ui.view">
            <field name='name'>college.student.form</field>
            <field name='model'>college.student</field>
            <field name='arch' type='xml'>
                <form string="Student">
                    <header>
                        <button name='action_confirm' string='Confirm' type='object' class='oe_highlight' invisible='state != "draft"' />
                        <button name='action_reset' string='Reset' type='object' invisible='state != "confirmed"' />
                        <button name="action_open_marks_wizard" string="Add Marks" type="object" class="oe_highlight" context="{'default_student_id':id}"/>
                        <field name='state' widget='statusbar' statusbar_visible='draft,confirmed' />


                    </header>

                    <sheet>
                        <!-- <div class='oe_title'>
                            <h1>
                                <field name='name' placeholder='Student Name'/>
                            </h1>
                            
                        </div> -->
                        <group>
                            <group string='Personal Information'>
                                <field name='name'/>
                                <field name='roll_number'/>
                                <field name='dob'/>
                                <field name='gender'/>
                            </group>
                            <group string='Academic Information'>
                                <field name='department_id'/>
                                <field name='semester'/>
                                        
                            </group>
                        </group>
                        <notebook>

                            <page string='Subject Marks' name='subject marks'>
                                <field name='subject_mark_ids' readonly="state == 'confirmed'">
                                    <list editable='bottom' create='false'>
                                        <field name='subject_id' readonly='1'/>
                                        <field name='credit' readonly='1' />
                                        <field name='internal_mark'  readonly='1'/>
                                        <field name='external_mark' readonly='1'/>
                                        <field name='total_mark' readonly='1'/>
                                        <field name='grade_point' readonly='1'/>
                                    </list>
                                </field>
                                <group class="oe_subtotal_footer oe_right">
                                    <field name='total_marks'/>
                                    <field name='cgpa' />
                                </group>
                            </page>

                            <page string="remarks" name='remarks'>
                                <field name='remarks' placeholder='Enter any remarks' />
                            </page>
                        </notebook>
                    </sheet>

                    <chatter/>
                </form>
            </field>

        </record>

        <record id="view_college_student_list" model="ir.ui.view">
            <field name="name">college.student.list</field>
            <field name="model">college.student</field>
            <field name="arch" type='xml'>
                <list string="Students" decoration-muted="state=='draft'" decoration-success="state=='confirmed'">
                    <field name="roll_number"/>
                    <field name="name"/>
                    <field name="department_id"/>
                    <field name="semester"/>
                    <field name="cgpa"/>
                    <field name="state" widget="badge" decoration-warning="state=='draft'" decoration-success="state=='confirmed'" />
                </list>
            </field>
        </record>

        <record id="view_college_student_kanban" model="ir.ui.view">
            <field name='name'>college.student.kanban</field>
            <field name='model'>college.student</field>
            <field name='arch' type='xml'>
                <kanban default_group_by="state" class="o_kanban_small_column" >
                    <field name='name'/>
                    <field name='department_id'/>
                    <field name='cgpa'/>
                    <field name='state'/>
                    <templates>
                        <t t-name="card">
                            <div class="oe_kanban_global_click">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <strong class="o_kanban_record_title">
                                            <field name='name'/>
                                        </strong>
                                        <span class='o_kanban_record_subtitle text-muted'>
                                            <field name="roll_number"/>
                                        </span>
                                    </div>
                                </div>
                                <div class='o_kanban_record_body'>
                                    <div>
                                        <span class="fw-bold">Department:</span>
                                        <field name="department_id"/>
                                    </div>
                                    <div>
                                        <span class="fw-bold">CGPA:</span>
                                        <field name="cgpa"/>
                                    </div>
                                </div>
                                <div class="oe_kanban_record_bottom">
                                    <div class="oe_kanban_bottom_left">
                                        <field name="state" widget='label_selection' options="{'classes':{'draft':'warning','confirmed':'success'}}" />
                                    </div>
                                </div>

                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id='view_college_student_search' model='ir.ui.view'>
            <field name="name">college.student.search</field>
            <field name="model">college.student</field>
            <field name="arch" type='xml'>
                <search string="Search Students">
                    <field name="name" string="Student Name"/>
                    <field name="roll_number" string="Roll Number"/>
                    <field name="department_id" string="Department"/>

                    <filter name="filter_draft" string="Draft" domain="[('state','=','draft')]"/>
                    <filter name="filter_confirmed" string="confirmed" domain="[('state','=','confirmed')]"/>

                    <group expand="0" string="Group By">
                        <filter name="group_by_department" string='Department' context="{'group_by':'department_id'}" />
                        <filter name="group_by_semester" string='Semester' context="{'group_by':'semester'}" />
                        <filter name="group_by_state" string='state' context="{'group_by':'state'}" />
                    </group>
                </search>
            </field>
        </record>

        <record id="action_college_student" model="ir.actions.act_window">
            <field name='name'>Students</field>
            <field name='res_model'>college.student</field>
            <field name='view_mode'>list,kanban,form</field>
            <field name='search_view_id' ref="view_college_student_search"/>
            
            

        </record>

        <menuitem id="menu_college_root" name='College Management'/>
        <menuitem id="menu_college_student" name='Students' parent='menu_college_root' action="action_college_student"/>
        <menuitem id="menu_college_department" name='Departments' parent='menu_college_root' action="action_college_department"/>
        <menuitem id="menu_college_subject" name='Subjects' parent='menu_college_root' action="action_college_subject"/>

    </data>
</odoo>